(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,a){e.exports=a(27)},22:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(14),o=a.n(l),s=(a(22),a(5)),c=a(3),i=a(28);var m=()=>{const[e,t]=Object(r.useState)(""),[a,l]=Object(r.useState)(""),[o,s]=Object(r.useState)(""),m=Object(c.p)();return n.a.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-100"},n.a.createElement("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md"},n.a.createElement("h2",{className:"text-2xl font-bold mb-6 text-center text-blue-800"},"Hospital Management Login"),n.a.createElement("form",{onSubmit:e=>e.preventDefault(),className:"space-y-4"},n.a.createElement("div",null,n.a.createElement("label",{className:"block text-gray-700 font-medium"},"Select Role"),n.a.createElement("select",{value:e,onChange:e=>t(e.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},n.a.createElement("option",{value:""},"-- Choose Role --"),n.a.createElement("option",{value:"Admin"},"Admin"),n.a.createElement("option",{value:"Doctor"},"Doctor"),n.a.createElement("option",{value:"FrontDesk"},"Front Desk"),n.a.createElement("option",{value:"DataEntry"},"Data Entry"))),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-gray-700 font-medium"},"Email"),n.a.createElement("input",{type:"email",value:a,onChange:e=>l(e.target.value),placeholder:"Enter email",className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-gray-700 font-medium"},"Password"),n.a.createElement("input",{type:"password",value:o,onChange:e=>s(e.target.value),placeholder:"Enter password",className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})),n.a.createElement("button",{type:"button",onClick:async()=>{if(e&&a&&o)try{const t=await i.a.post("http://localhost:5000/api/users/login",{email:a,password:o,role:e}),{token:r}=t.data;switch(localStorage.setItem("token",r),localStorage.setItem("role",e),e){case"Doctor":m("/doctor/dashboard");break;case"FrontDesk":m("/frontdesk/dashboard");break;case"DataEntry":m("/dataentry/dashboard");break;case"Admin":m("/admin/dashboard");break;default:alert("Unknown role!")}}catch(n){var t,r;console.error("Login error:",n),alert("Login failed: "+(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||!1)}else alert("Please fill in all fields")},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition"},"Login"),n.a.createElement("p",{className:"text-center mt-4"},"Not registered?"," ",n.a.createElement("button",{type:"button",onClick:()=>{e?m(`/${e.toLowerCase()}/register`):alert("Please select a role to register")},className:"text-blue-600 hover:underline font-semibold"},"Register here")))))};var d=()=>{const[e,t]=Object(r.useState)([]),a=Object(c.p)();Object(r.useEffect)(()=>{console.log("\ud83d\udce5 DoctorDashboard mounted");return(async()=>{try{const e=await fetch("http://localhost:5000/api/doctors/dashboard",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),a=await e.json();console.log("\u2705 Fetched patients data:",a),t(a.appointments||[])}catch(e){console.error("\u274c Failed to fetch patients for doctor:",e)}})(),()=>{console.log("\ud83d\udce4 DoctorDashboard unmounted")}},[]);return n.a.createElement("div",{style:{padding:"20px",fontFamily:"sans-serif"}},n.a.createElement("h1",{style:{fontSize:"2rem",color:"#2c3e50"}},n.a.createElement("span",{role:"img","aria-label":"Doctor"},"\ud83d\udc68\u200d\u2695\ufe0f")," Doctor Dashboard"),n.a.createElement("button",{onClick:()=>{localStorage.removeItem("token"),a("/")},style:{backgroundColor:"#e74c3c",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",marginBottom:"20px"}},"Logout"),n.a.createElement("h2",{style:{fontSize:"1.3rem",color:"#27ae60",marginBottom:"15px"}},"Assigned Patients"),e.length>0?n.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"15px"}},e.map(e=>n.a.createElement("div",{key:e.patient_id,style:{border:"1px solid #ccc",padding:"15px",width:"220px",borderRadius:"10px",background:"#f9f9f9",cursor:"pointer"},onClick:()=>{return t=e.patient_id,console.log("\ud83d\uddb1\ufe0f Clicked on patient ID: "+t),void a("/doctor/"+t);var t}},n.a.createElement("h3",{style:{margin:"0 0 10px",color:"#2980b9"}},e.patient_name),n.a.createElement("p",null,n.a.createElement("strong",null,"Email:")," ",e.email),n.a.createElement("p",null,n.a.createElement("strong",null,"Gender:")," ",e.gender)))):n.a.createElement("p",null,"No patients assigned yet."))};var p=()=>{const[e,t]=Object(r.useState)([]),[a,l]=Object(r.useState)(!0),[o,s]=Object(r.useState)(""),i=Object(c.p)();Object(r.useEffect)(()=>{m()},[]);const m=async()=>{try{const e=await fetch("http://localhost:5000/api/patients",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!e.ok)throw new Error("Failed to fetch patients");const a=await e.json();t(Array.isArray(a.patients)?a.patients:[])}catch(e){console.error("Front desk fetch failed:",e),s("Unable to load patient data.")}finally{l(!1)}};return n.a.createElement("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"}},n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"}},n.a.createElement("h1",{style:{fontSize:"2rem",color:"#1e40af",fontWeight:"bold"}},"Front Desk Dashboard"),n.a.createElement("button",{onClick:()=>{i("/frontdesk/dashboard/register")},style:{backgroundColor:"#16a34a",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"1rem"}},"+ Register New Patient"),n.a.createElement("button",{onClick:()=>{localStorage.removeItem("token"),i("/login")},style:{backgroundColor:"#dc2626",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"1rem"}},"Logout")),n.a.createElement("h2",{style:{fontSize:"1.25rem",marginBottom:"1rem",color:"#374151"}},"Registered Patients"),a?n.a.createElement("p",{style:{color:"#6b7280"}},"Loading patients..."):o?n.a.createElement("p",{style:{color:"#ef4444"}},o):e.length>0?n.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem"}},e.map(e=>n.a.createElement("div",{key:e.patient_id,onClick:()=>{return t=e.patient_id,void i("/frontdesk/"+t);var t},style:{backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"1.5rem",boxShadow:"0 0 10px rgba(0,0,0,0.1)",cursor:"pointer",transition:"transform 0.2s ease-in-out"},onMouseOver:e=>e.currentTarget.style.transform="scale(1.02)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)"},n.a.createElement("div",{style:{marginBottom:"0.5rem"}},n.a.createElement("h3",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#111827"}},e.name),n.a.createElement("p",null,n.a.createElement("strong",null,"Age:")," ",e.age),n.a.createElement("p",null,n.a.createElement("strong",null,"Gender:")," ",e.gender),n.a.createElement("p",null,n.a.createElement("strong",null,"Phone:")," ",e.phone),n.a.createElement("p",null,n.a.createElement("strong",null,"Email:")," ",e.email),n.a.createElement("p",null,n.a.createElement("strong",null,"Address:")," ",e.address),n.a.createElement("p",null,n.a.createElement("strong",null,"ID:")," ",e.patient_id)),n.a.createElement("button",{onClick:a=>(async(e,a)=>{if(a.stopPropagation(),window.confirm("Are you sure you want to delete this patient?"))try{if(!(await fetch("http://localhost:5000/api/patients/delete/"+e,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).ok)throw new Error("Delete failed");t(t=>t.filter(t=>t.patient_id!==e))}catch(r){console.error("Error deleting patient:",r),alert("Failed to delete patient.")}})(e.patient_id,a),style:{marginTop:"0.75rem",backgroundColor:"#dc2626",color:"white",padding:"0.4rem 0.75rem",border:"none",borderRadius:"4px",fontSize:"0.9rem",cursor:"pointer"}},"Delete")))):n.a.createElement("p",{style:{color:"#6b7280"}},"No patients found."))};var u=()=>{const[e,t]=Object(r.useState)({name:"",age:"",gender:"",address:"",phone:"",email:""}),[a,l]=Object(r.useState)(!1),[o,s]=Object(r.useState)(""),[i,m]=Object(r.useState)(""),d=Object(c.p)(),p=e=>{const{name:a,value:r}=e.target;t(e=>({...e,[a]:r}))};return n.a.createElement("div",{className:"p-6 max-w-xl mx-auto"},n.a.createElement("h1",{className:"text-3xl font-bold text-blue-700"},"Register New Patient"),n.a.createElement("form",{onSubmit:async t=>{t.preventDefault(),l(!0),s(""),m("");try{const t=await fetch("http://localhost:5000/api/patients/register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify(e)}),a=await t.json();if(!t.ok)throw new Error(a.message||"Failed to register patient");m(a.message||"Patient registered successfully"),setTimeout(()=>{d("/frontdesk/dashboard")},2e3)}catch(a){s(a.message||"Error occurred during registration.")}finally{l(!1)}},className:"mt-6"},n.a.createElement("div",{className:"space-y-4"},n.a.createElement("input",{type:"text",name:"name",value:e.name,onChange:p,placeholder:"Name",className:"w-full p-2 border rounded",required:!0}),n.a.createElement("input",{type:"number",name:"age",value:e.age,onChange:p,placeholder:"Age",className:"w-full p-2 border rounded",required:!0}),n.a.createElement("select",{name:"gender",value:e.gender,onChange:p,className:"w-full p-2 border rounded",required:!0},n.a.createElement("option",{value:""},"Select Gender"),n.a.createElement("option",{value:"Male"},"Male"),n.a.createElement("option",{value:"Female"},"Female"),n.a.createElement("option",{value:"Other"},"Other")),n.a.createElement("input",{type:"text",name:"address",value:e.address,onChange:p,placeholder:"Address",className:"w-full p-2 border rounded",required:!0}),n.a.createElement("input",{type:"text",name:"phone",value:e.phone,onChange:p,placeholder:"Phone Number",className:"w-full p-2 border rounded",required:!0}),n.a.createElement("input",{type:"email",name:"email",value:e.email,onChange:p,placeholder:"Email",className:"w-full p-2 border rounded",required:!0})),n.a.createElement("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",disabled:a},a?"Registering...":"Register Patient")),o&&n.a.createElement("p",{className:"mt-4 text-red-500"},o),i&&n.a.createElement("p",{className:"mt-4 text-green-500"},i))};var g=()=>{const{patient_id:e}=Object(c.r)(),[t,a]=Object(r.useState)(null),[l,o]=Object(r.useState)([]),[s,i]=Object(r.useState)(""),[m,d]=Object(r.useState)(""),[p,u]=Object(r.useState)(""),[g,h]=Object(r.useState)(!1),[E,b]=Object(r.useState)("");Object(r.useEffect)(()=>{(async()=>{try{const t=await fetch("http://localhost:5000/api/patients/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!t.ok)throw new Error("Failed to fetch patient");const r=await t.json();a(r.patient)}catch(t){console.error("Error fetching patient details:",t),b("Failed to fetch patient details")}})()},[e]),Object(r.useEffect)(()=>{(async()=>{try{const e=await fetch("http://localhost:5000/api/appointments/list",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!e.ok)throw new Error("Failed to fetch doctors");const t=await e.json();o(t)}catch(e){console.error("Error fetching doctor list:",e),b("Failed to load doctor list")}})()},[]),Object(r.useEffect)(()=>{const e=l.find(e=>e.user_id===parseInt(s));e&&d(e.doctor_id)},[s,l]);return t?n.a.createElement("div",{className:"p-6 max-w-4xl mx-auto"},n.a.createElement("h2",{className:"text-3xl font-bold text-blue-700 mb-4"},"Patient Details"),n.a.createElement("div",{className:"mb-6 space-y-1"},n.a.createElement("p",null,n.a.createElement("strong",null,"Name:")," ",t.name),n.a.createElement("p",null,n.a.createElement("strong",null,"Age:")," ",t.age),n.a.createElement("p",null,n.a.createElement("strong",null,"Gender:")," ",t.gender),n.a.createElement("p",null,n.a.createElement("strong",null,"Email:")," ",t.email),n.a.createElement("p",null,n.a.createElement("strong",null,"Phone:")," ",t.phone),n.a.createElement("p",null,n.a.createElement("strong",null,"Address:")," ",t.address)),n.a.createElement("h3",{className:"text-xl font-semibold"},"Book an Appointment"),g&&n.a.createElement("p",{className:"text-green-500 mb-4"},"Appointment booked successfully!"),E&&n.a.createElement("p",{className:"text-red-500 mb-4"},E),n.a.createElement("form",{onSubmit:async t=>{if(t.preventDefault(),m&&p)try{if(!(await fetch(`http://localhost:5000/api/appointments/${e}/book`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({doctor_id:m,appointment_time:p})})).ok)throw new Error("Failed to book appointment");h(!0),b("")}catch(a){console.error("Appointment error:",a),b("Error booking appointment: "+a.message)}else b("Please provide all appointment details.")},className:"space-y-4"},n.a.createElement("div",{className:"flex flex-col"},n.a.createElement("label",{htmlFor:"doctorSelect",className:"font-medium"},"Select Doctor"),n.a.createElement("select",{id:"doctorSelect",className:"p-2 border rounded-md",value:s,onChange:e=>i(e.target.value)},n.a.createElement("option",{value:""},"-- Select Doctor --"),l.map(e=>n.a.createElement("option",{key:`${e.user_id}-${e.doctor_id}`,value:e.user_id},e.name)))),n.a.createElement("div",{className:"flex flex-col"},n.a.createElement("label",{htmlFor:"appointment_time",className:"font-medium"},"Appointment Time"),n.a.createElement("input",{type:"datetime-local",id:"appointment_time",value:p,onChange:e=>u(e.target.value),className:"p-2 border rounded-md"})),n.a.createElement("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Book Appointment"))):n.a.createElement("p",null,"Loading patient details...")};var h=()=>{const[e,t]=Object(r.useState)([]),a=localStorage.getItem("token"),l=Object(c.p)();Object(r.useEffect)(()=>{a&&(async()=>{try{const e=await fetch("http://localhost:5000/api/dataEntry/patients",{headers:{Authorization:"Bearer "+a}}),r=await e.json();t((null===r||void 0===r?void 0:r.patients)||[])}catch(e){console.error("Data Entry fetch failed:",e)}})()},[a]);return n.a.createElement("div",{style:{padding:"20px"}},n.a.createElement("h1",null,"Data Entry Dashboard"),n.a.createElement("button",{onClick:()=>{localStorage.removeItem("token"),l("/")},style:{backgroundColor:"#e74c3c",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",marginBottom:"20px"}},"Logout"),n.a.createElement("h2",null,"Patients"),n.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px"}},e.map(e=>n.a.createElement("div",{key:e.patient_id,style:{border:"1px solid #ccc",borderRadius:"10px",padding:"10px",cursor:"pointer",width:"200px"},onClick:()=>{return t=e.patient_id,void l("/dataentry/"+t);var t}},n.a.createElement("strong",null,e.name),n.a.createElement("p",null,"Age: ",e.age),n.a.createElement("p",null,"Gender: ",e.gender)))))};var E=()=>{const e=Object(c.p)(),[t,a]=Object(r.useState)([]),[l,o]=Object(r.useState)("all");Object(r.useEffect)(()=>{(async()=>{try{const e=await fetch("http://localhost:5000/api/users",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),t=await e.json();a(Array.isArray(t.results)?t.results:[])}catch(e){console.error("Admin fetch failed:",e)}})()},[]);const s="all"===l?t:t.filter(e=>e.role===l);return n.a.createElement("div",{style:{padding:"2rem"}},n.a.createElement("h1",null,"Admin Dashboard"),n.a.createElement("button",{onClick:()=>{localStorage.removeItem("token"),e("/")},style:{backgroundColor:"#e74c3c",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",marginBottom:"20px"}},"Logout"),n.a.createElement("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem"}},n.a.createElement("div",{onClick:()=>o("all"),style:{padding:"1rem",backgroundColor:"#f0f0f0",borderRadius:"8px",cursor:"pointer",width:"150px",textAlign:"center",boxShadow:"0 0 10px rgba(0,0,0,0.1)"}},n.a.createElement("strong",null,"All"),n.a.createElement("p",null,t.length," users")),[{label:"Doctors",role:"doctor"},{label:"Frontdesk",role:"frontdesk"},{label:"Data Entry",role:"dataentry"}].map(a=>{let{label:r,role:l}=a;return n.a.createElement("div",{key:l,style:{padding:"1rem",backgroundColor:"#f0f0f0",borderRadius:"8px",width:"150px",textAlign:"center",boxShadow:"0 0 10px rgba(0,0,0,0.1)",position:"relative"}},n.a.createElement("div",{style:{cursor:"pointer"},onClick:()=>o(l)},n.a.createElement("strong",null,r),n.a.createElement("p",null,t.filter(e=>e.role===l).length," users")),n.a.createElement("button",{onClick:()=>e(`/${l}/register`),style:{marginTop:"0.5rem",padding:"0.4rem 0.8rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"}},"+ Add"))})),n.a.createElement("h3",{style:{textTransform:"capitalize"}},l," List"),s.length>0?n.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"}},s.map((e,t)=>n.a.createElement("div",{key:t,style:{border:"1px solid #ccc",padding:"1rem",borderRadius:"8px",position:"relative"}},n.a.createElement("p",null,n.a.createElement("strong",null,"Name:")," ",e.name),n.a.createElement("p",null,n.a.createElement("strong",null,"Email:")," ",e.email),n.a.createElement("p",null,n.a.createElement("strong",null,"Role:")," ",e.role),e.phone&&n.a.createElement("p",null,n.a.createElement("strong",null,"Phone:")," ",e.phone),e.specialization&&n.a.createElement("p",null,n.a.createElement("strong",null,"Specialization:")," ",e.specialization),e.shift&&n.a.createElement("p",null,n.a.createElement("strong",null,"Shift:")," ",e.shift),e.department&&n.a.createElement("p",null,n.a.createElement("strong",null,"Department:")," ",e.department),n.a.createElement("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{const t=await fetch("http://localhost:5000/api/users/"+e,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}}),r=await t.json();if(t.ok)a(t=>t.filter(t=>t.user_id!==e)),alert(r.message||"User deleted successfully.");else{const e="string"===typeof r.message?r.message:JSON.stringify(r.message);alert("Delete failed: "+e)}}catch(t){console.error("Delete failed:",t),alert("An error occurred while deleting the user.")}})(e.user_id),style:{marginTop:"1rem",padding:"0.5rem 1rem",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Delete")))):n.a.createElement("p",null,"No users found for this category."))};var b=()=>{const e=Object(c.p)(),t=Object(c.n)(),[a,l]=Object(r.useState)({name:"",email:"",password:"",phone:"",specialization:""}),o=e=>l({...a,[e.target.name]:e.target.value});return n.a.createElement("div",null,n.a.createElement("h2",null,"Doctor Registration"),n.a.createElement("input",{name:"name",placeholder:"Name",onChange:o}),n.a.createElement("input",{name:"email",placeholder:"Email",onChange:o}),n.a.createElement("input",{name:"password",placeholder:"Password",type:"password",onChange:o}),n.a.createElement("input",{name:"phone",placeholder:"Phone",onChange:o}),n.a.createElement("input",{name:"specialization",placeholder:"Specialization",onChange:o}),n.a.createElement("button",{onClick:async()=>{try{var r;const n=t.pathname.split("/")[1],l=(null===(r=t.state)||void 0===r?void 0:r.from)||"/",o={...a,role:n||"admin"},s=await i.a.post("http://localhost:5000/api/users/register",o);alert(s.data.message),e(l)}catch(o){var n,l;alert((null===(n=o.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message)||"Error occurred")}}},"Register"))};var f=()=>{const{patient_id:e}=Object(c.r)(),t=Object(c.p)(),[a,l]=Object(r.useState)(null),[o,s]=Object(r.useState)(""),[i,m]=Object(r.useState)(!0),[d,p]=Object(r.useState)(""),[u,g]=Object(r.useState)("");Object(r.useEffect)(()=>{(async()=>{try{const t=await fetch("http://localhost:5000/api/doctors/dashboard/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),a=await t.json();401===t.status||403===t.status?g("Access denied. Please login with correct credentials."):t.ok?l(a):g(a.message||"Patient not found")}catch(t){g("Failed to fetch patient details.")}finally{m(!1)}})()},[e]);return i?n.a.createElement("p",null,"Loading patient details..."):u?n.a.createElement("p",{style:{color:"red"}},u):n.a.createElement("div",{style:{padding:"20px",fontFamily:"sans-serif"}},n.a.createElement("h2",{style:{color:"#2c3e50"}},n.a.createElement("span",{role:"img","aria-label":"stethoscope"},"\ud83e\ude7a")," Patient Details"),a?n.a.createElement("div",{style:{marginBottom:"20px",background:"#f0f0f0",padding:"15px",borderRadius:"10px"}},n.a.createElement("p",null,n.a.createElement("strong",null,"Name:")," ",a.name),n.a.createElement("p",null,n.a.createElement("strong",null,"Age:")," ",a.age),n.a.createElement("p",null,n.a.createElement("strong",null,"Gender:")," ",a.gender),n.a.createElement("p",null,n.a.createElement("strong",null,"Phone:")," ",a.phone),n.a.createElement("p",null,n.a.createElement("strong",null,"Email:")," ",a.email),n.a.createElement("p",null,n.a.createElement("strong",null,"Address:")," ",a.address),n.a.createElement("p",null,n.a.createElement("strong",null,"Registered At:")," ",new Date(a.registered_at).toLocaleString())):n.a.createElement("p",null,"Patient data not found."),n.a.createElement("h3",{style:{color:"#27ae60"}}," Write Prescription"),n.a.createElement("form",{onSubmit:async t=>{t.preventDefault(),p(""),g("");try{const t=await fetch("http://localhost:5000/api/doctors/dashboard/prescribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({patient_id:e,description:o})}),a=await t.json();t.ok?(p(a.message),s("")):g(a.message||"Failed to submit prescription.")}catch(a){g("Error submitting prescription.")}}},n.a.createElement("textarea",{value:o,onChange:e=>s(e.target.value),placeholder:"Enter prescription details...",rows:5,cols:60,required:!0,style:{padding:"10px",borderRadius:"5px",border:"1px solid #ccc"}}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("button",{type:"submit",style:{background:"#2980b9",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer"}},"Submit Prescription")),d&&n.a.createElement("p",{style:{color:"green",marginTop:"10px"}},d),u&&n.a.createElement("p",{style:{color:"red",marginTop:"10px"}},u),n.a.createElement("br",null),n.a.createElement("button",{onClick:()=>t("/doctor/dashboard"),style:{background:"#7f8c8d",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer"}},n.a.createElement("span",{role:"img","aria-label":"back"},"\ud83d\udd19")," Back to Dashboard"))};var y=()=>{const e=Object(c.p)(),t=Object(c.n)(),[a,l]=Object(r.useState)({name:"",email:"",password:"",phone:""}),o=e=>l({...a,[e.target.name]:e.target.value});return n.a.createElement("div",null,n.a.createElement("h2",null,"DataEntry Registration"),n.a.createElement("input",{name:"name",placeholder:"Name",onChange:o}),n.a.createElement("input",{name:"email",placeholder:"Email",onChange:o}),n.a.createElement("input",{name:"password",placeholder:"Password",type:"password",onChange:o}),n.a.createElement("input",{name:"phone",placeholder:"Phone",onChange:o}),n.a.createElement("button",{onClick:async()=>{try{var r;const n=t.pathname.split("/")[1],l=(null===(r=t.state)||void 0===r?void 0:r.from)||"/",o={...a,role:n||"admin"},s=await i.a.post("http://localhost:5000/api/users/register",o);alert(s.data.message),e(l)}catch(o){var n,l;alert((null===(n=o.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message)||"Error occurred")}}},"Register"))};var v=()=>{const e=Object(c.p)(),t=Object(c.n)(),[a,l]=Object(r.useState)({name:"",email:"",password:"",phone:""}),o=e=>l({...a,[e.target.name]:e.target.value});return n.a.createElement("div",null,n.a.createElement("h2",null,"Frontdesk Registration"),n.a.createElement("input",{name:"name",placeholder:"Name",onChange:o}),n.a.createElement("input",{name:"email",placeholder:"Email",onChange:o}),n.a.createElement("input",{name:"password",placeholder:"Password",type:"password",onChange:o}),n.a.createElement("input",{name:"phone",placeholder:"Phone",onChange:o}),n.a.createElement("button",{onClick:async()=>{try{var r;const n=t.pathname.split("/")[1],l=(null===(r=t.state)||void 0===r?void 0:r.from)||"/",o={...a,role:n||"admin"},s=await i.a.post("http://localhost:5000/api/users/register",o);alert(s.data.message),e(l)}catch(o){var n,l;alert((null===(n=o.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message)||"Error occurred")}}},"Register"))};var x=()=>{const{patient_id:e}=Object(c.r)(),t=Object(c.p)(),a=localStorage.getItem("token"),[l,o]=Object(r.useState)({}),[s,i]=Object(r.useState)({patient_id:e,test_name:"",result:""}),[m,d]=Object(r.useState)({patient_id:e,doctor_id:"",description:""}),[p,u]=Object(r.useState)([]),[g,h]=Object(r.useState)([]);Object(r.useEffect)(()=>{(async()=>{const t=await fetch("http://localhost:5000/api/dataEntry/patients/"+e,{headers:{Authorization:"Bearer "+a}}),r=await t.json();o(r.patient)})()},[e,a]),Object(r.useEffect)(()=>{(async()=>{try{const r=await fetch(`http://localhost:5000/api/dataEntry/patients/${e}/doctor_id`,{headers:{Authorization:"Bearer "+a}}),n=await r.json();if(r.ok){var t;const e=null===(t=n.doctor_id)||void 0===t?void 0:t.doctor_id;d(t=>({...t,doctor_id:e}))}else alert(n.message||"Doctor ID fetch failed.")}catch(r){console.error("Error fetching doctor ID:",r)}})()},[e,a]);return n.a.createElement("div",{style:{padding:"20px"}},n.a.createElement("button",{onClick:()=>t("/dataentry/dashboard")},n.a.createElement("span",{role:"img","aria-label":"Back"},"\ud83d\udd19")," Back to Dashboard"),n.a.createElement("h2",null,"Patient: ",l.name),n.a.createElement("div",{style:{margin:"20px 0",border:"1px solid #eee",padding:"10px"}},n.a.createElement("h3",null,"Add Test"),n.a.createElement("input",{type:"text",placeholder:"Test Name",value:s.test_name,onChange:e=>i({...s,test_name:e.target.value})}),n.a.createElement("input",{type:"text",placeholder:"Result",value:s.result,onChange:e=>i({...s,result:e.target.value})}),n.a.createElement("button",{onClick:async()=>{if(!s.test_name)return alert("Test name required");const t=await fetch(`http://localhost:5000/api/dataEntry/patients/${e}/tests`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify(s)}),r=await t.json();alert(r.message),i({test_name:"",result:""})}},n.a.createElement("span",{role:"img","aria-label":"Add Test"},"\u2795")," Add Test")),n.a.createElement("div",{style:{margin:"20px 0",border:"1px solid #eee",padding:"10px"}},n.a.createElement("h3",null,"Add Treatment"),n.a.createElement("input",{type:"text",placeholder:"Description",value:m.description,onChange:e=>d({...m,description:e.target.value})}),n.a.createElement("button",{onClick:async()=>{if(!m.description.trim())return alert("Description is required");const t=await fetch(`http://localhost:5000/api/dataEntry/patients/${e}/treatments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify(m)});console.log(m);const r=await t.json();alert(r.message),d({description:""})}},n.a.createElement("span",{role:"img","aria-label":"Add Treatment"},"\u2795")," Add Treatment")),n.a.createElement("div",null,n.a.createElement("h3",null,"History"),n.a.createElement("button",{onClick:async()=>{const t=await fetch(`http://localhost:5000/api/dataEntry/patients/${e}/tests`,{headers:{Authorization:"Bearer "+a}}),r=await t.json();u(r.tests||[])}},n.a.createElement("span",{role:"img","aria-label":"Test History"},"\ud83d\udcdc")," Test History"),n.a.createElement("button",{onClick:async()=>{const t=await fetch(`http://localhost:5000/api/dataEntry/patients/${e}/treatments`,{headers:{Authorization:"Bearer "+a}}),r=await t.json();h(r.treatments||[])}},n.a.createElement("span",{role:"img","aria-label":"Treatment History"},"\ud83d\udcdc")," Treatment History")),p.length>0&&n.a.createElement("div",{style:{marginTop:"15px"}},n.a.createElement("h4",null,"Test History"),n.a.createElement("ul",null,p.map((e,t)=>n.a.createElement("li",{key:t},n.a.createElement("strong",null,e.test_name)," - ",e.result||"No Result"," on ",new Date(e.test_date).toLocaleDateString())))),g.length>0&&n.a.createElement("div",{style:{marginTop:"15px"}},n.a.createElement("h4",null,"Treatment History"),n.a.createElement("ul",null,g.map((e,t)=>n.a.createElement("li",{key:t},n.a.createElement("strong",null,e.description)," by Dr. ",e.doctor_name," on ",new Date(e.treatment_date).toLocaleDateString())))))};var w=()=>{const e=Object(c.p)(),t=Object(c.n)(),[a,l]=Object(r.useState)({name:"",email:"",password:""}),o=e=>l({...a,[e.target.name]:e.target.value});return n.a.createElement("div",null,n.a.createElement("h2",null,"Admin Registration"),n.a.createElement("input",{name:"name",placeholder:"Name",onChange:o}),n.a.createElement("input",{name:"email",placeholder:"Email",onChange:o}),n.a.createElement("input",{name:"password",placeholder:"Password",type:"password",onChange:o}),n.a.createElement("button",{onClick:async()=>{try{var r;const n=t.pathname.split("/")[1],l=(null===(r=t.state)||void 0===r?void 0:r.from)||"/",o={...a,role:n||"admin"},s=await i.a.post("http://localhost:5000/api/users/register",o);alert(s.data.message),e(l)}catch(o){var n,l;alert((null===(n=o.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message)||"Error occurred")}}},"Register"))};var k=function(){return n.a.createElement(s.a,null,n.a.createElement(c.c,null,n.a.createElement(c.a,{path:"/",element:n.a.createElement(m,null)}),n.a.createElement(c.a,{path:"/doctor/register",element:n.a.createElement(b,null)}),n.a.createElement(c.a,{path:"/frontdesk/register",element:n.a.createElement(v,null)}),n.a.createElement(c.a,{path:"/dataentry/register",element:n.a.createElement(y,null)}),n.a.createElement(c.a,{path:"/admin/register",element:n.a.createElement(w,null)}),n.a.createElement(c.a,{path:"/doctor/dashboard",element:n.a.createElement(d,null)}),n.a.createElement(c.a,{path:"/doctor/:patient_id",element:n.a.createElement(f,null)}),n.a.createElement(c.a,{path:"/dataentry/:patient_id",element:n.a.createElement(x,null)}),n.a.createElement(c.a,{path:"/dataentry/dashboard",element:n.a.createElement(h,null)}),n.a.createElement(c.a,{path:"/admin/dashboard",element:n.a.createElement(E,null)}),n.a.createElement(c.a,{path:"/frontdesk/dashboard",element:n.a.createElement(p,null)}),n.a.createElement(c.a,{path:"/frontdesk/dashboard/register",element:n.a.createElement(u,null)}),n.a.createElement(c.a,{path:"/frontdesk/:patient_id",element:n.a.createElement(g,null)})))};o.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(k,null)))}},[[15,1,2]]]);
//# sourceMappingURL=main.9132ba2d.chunk.js.map